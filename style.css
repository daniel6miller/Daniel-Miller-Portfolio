/* style.css — modern black & white, lean */

/* ---------- Design tokens ---------- */
:root {
  --bg: #ffffff;
  --fg: #0b0b0b;
  --muted: #6b6b6b;
  --line: #e9e9e9;
  --card: #ffffff;
  --card-line: #eaeaea;
  --accent: #0b0b0b; /* keep b&w; swap if you add a brand color */
  --radius-lg: 16px;
  --radius-sm: 10px;
  --shadow: 0 8px 24px rgba(0,0,0,0.06);
}

html.theme-dark {
  --bg: #0e0f12;
  --fg: #f5f6f7;
  --muted: #b7bcc2;
  --line: #26282c;
  --card: #111317;
  --card-line: #1c1e23;
  --accent: #ffffff;
  --shadow: 0 8px 24px rgba(0,0,0,0.35);
}

/* ---------- Reset / base ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--fg);
  font: 400 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}
a { color: inherit; text-decoration: none; }
a:hover { text-decoration: underline; text-underline-offset: 3px; }
img { max-width: 100%; display: block; }
button { font: inherit; color: inherit; background: none; border: 0; padding: 0; cursor: pointer; }

/* Utility */
.hidden { display: none !important; }
.center { text-align: center; }
.align-items-center { align-items: center; }
.flex-end { justify-content: flex-end; }

/* Containers */
.main { max-width: 1200px; margin: 0 auto; position: relative; transition: opacity .3s ease; }
.container { width: 100%; padding: 0 24px; }
.row { display: flex; flex-wrap: wrap; gap: 24px; }
.sec-padding { padding: 72px 0; }
body.hide-scrolling { overflow: hidden; }

/* Sections */
section {
  display: none;
  background: var(--card);
  border: 1px solid var(--card-line);
  border-radius: var(--radius-lg);
}
section.active { display: block; animation: fadeIn .25s ease; }
section.fade-out { animation: fadeOut .25s ease forwards; }

@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }
@keyframes fadeOut { from { opacity: 1 } to { opacity: 0 } }

/* Header / Nav */
.header { position: sticky; top: 0; z-index: 20; background: var(--bg); }
.header .row { justify-content: space-between; align-items: center; padding: 16px 0; }
.nav-toggler {
  width: 44px; height: 44px; border-radius: 50%;
  background: var(--card); border: 1px solid var(--line);
  display: grid; place-items: center;
}
.nav-toggler span,
.nav-toggler span::before,
.nav-toggler span::after {
  content: ""; display: block; width: 22px; height: 2px; background: var(--fg);
  transition: transform .25s ease, opacity .25s ease;
}
.nav-toggler span::before { transform: translateY(-6px); }
.nav-toggler span::after { transform: translateY(4px); }

/* full-screen nav panel */
.nav {
  position: fixed; inset: 0; background: color-mix(in srgb, var(--bg) 90%, transparent);
  visibility: hidden; opacity: 0; transition: opacity .25s ease, visibility .25s steps(1, end);
  padding: 24px;
}
.header.active .nav { visibility: visible; opacity: 1; }
.nav-inner {
  max-width: 1200px; margin: 72px auto 0; padding: 48px 0;
  background: var(--card); border: 1px solid var(--card-line);
  border-radius: var(--radius-lg); box-shadow: var(--shadow);
  display: grid; place-items: center;
}
.nav-inner ul { list-style: none; margin: 0; padding: 0; }
.nav-inner li { text-align: center; }
.nav-inner a {
  display: inline-block; font-size: clamp(28px, 4vw, 40px); padding: 8px 16px;
  border-radius: 12px;
}
.nav-inner a:hover { background: var(--line); text-decoration: none; }

/* Theme toggle */
.toggle {
  width: 84px; height: 38px; background: var(--card);
  border: 1px solid var(--line); border-radius: 999px; position: relative;
  display: flex; align-items: center; padding: 0 8px; gap: 8px;
}
.toggle .toggle-icon { opacity: .6; font-size: 16px; } /* if you keep icons */
.toggle-ball {
  position: absolute; top: 2px; left: 2px; width: 34px; height: 34px;
  border-radius: 50%; background: var(--fg); transition: transform .25s ease, background .25s ease;
}
html.theme-dark .toggle-ball { transform: translateX(46px); background: #fff; }

/* Section titles */
.section-title { width: 100%; text-align: center; padding: 0 16px; margin-bottom: 8px; }
.section-title h2 { font-size: clamp(28px, 3.5vw, 40px); letter-spacing: -0.01em; }

/* Home */
.home-section { padding: clamp(48px, 8vw, 120px) 0; }
.home-section.active { display: block; }
.home-text p { font-size: 18px; color: var(--muted); margin-bottom: 8px; }
.home-text h1 { font-size: clamp(32px, 6vw, 54px); line-height: 1.1; margin: 4px 0 8px; }
.home-text h2 { font-size: clamp(18px, 3.5vw, 24px); color: var(--muted); margin: 0 0 20px; }
.home-text .btn { margin-right: 12px; margin-bottom: 12px; }
.home-img .img-box {
  width: 280px; max-width: 70vw; margin: 24px auto 0;
  border-radius: 50%; overflow: hidden; border: 6px solid var(--line);
}
.home-img .img-box img { width: 100%; height: auto; }
.home-section .row {
  align-items: center;           /* vertical centering */
  justify-content: space-between;
}
.home-text {
  text-align: left;              /* left-align copy */
  padding-right: 24px;
}
.home-img {
  display: flex;                 /* control placement of image box */
  justify-content: flex-end;     /* push image to the right */
}
.home-img .img-box {
  width: clamp(320px, 32vw, 420px);
  max-width: 100%;
  margin: 0;                     /* no auto-centering on wide */
}

/* <= 554px: stack + center everything */
@media (max-width: 554px) {
  .home-section .row {
    flex-direction: column;        /* stack */
    align-items: center;           /* center horizontally */
    justify-content: center;       /* center vertically within section padding */
    gap: 16px;
  }

  .home-text {
    width: 100%;
    text-align: center;            /* center text */
    padding-right: 0;              /* undo desktop padding */
  }

  .home-img {
    width: 100%;
    justify-content: center;       /* center the image block */
  }

  .home-img .img-box {
    width: clamp(200px, 60vw, 260px);
    margin: 12px auto 0;           /* keep centered */
  }
}



/* Buttons */
.btn {
  display: inline-block; padding: 10px 18px; border-radius: 999px;
  background: var(--card); border: 1px solid var(--line); color: var(--fg);
  font-weight: 600; line-height: 1.4; transition: background .2s ease, transform .05s ease;
}
.btn:hover { background: var(--line); text-decoration: none; }
.btn:active { transform: translateY(1px); }
.btn.btn-ghost { background: transparent; border: 1px solid var(--fg); }

/* About */
.about-summary { width: 100%; max-width: 70ch; margin: 0 auto 24px; font-size: 18px; }
.about-summary p + p { margin-top: 12px; }
/* -------- Timeline (Alternating, card-style) -------- */
.about-text { width: 100%; max-width: 900px; margin: 8px auto 0; }



/* Container + computed layout variables for desktop */
.master-timeline{
  position: relative;
  margin: 8px auto 0;
  width: 100%;
  max-width: 900px;
  padding: 8px 0 0;

  /* layout math (≥640px) */
  --date-col: 280px;        /* width of the date column */
  --lane-col: 32px;         /* width of the dot/spine lane */
  --col-gap: 16px;          /* grid column gap */
  /* spine x = date(140) + gap(16) + half lane(16) = 172px */
  --spine-x: calc(var(--date-col) + var(--col-gap) + (var(--lane-col) / 2));
}

/* Section headings aligned with the content column */
.mt-section{
  margin: 18px 0 10px;
  font-size: 14px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: .08em;
  color: var(--muted);
  position: relative;
  padding-left: calc(var(--spine-x) + var(--col-gap)); /* align with card column */
}

/* The vertical spine */
.master-timeline::before{
  content:"";
  position:absolute;
  top: 12px;
  bottom: 0;
  left: var(--spine-x);
  width:1px;
  background:var(--line);
}

/* Each row = date | lane | card */
.mt-item{
  position: relative; /* anchor the dot */
  display: grid;
  grid-template-columns: var(--date-col) var(--lane-col) 1fr;
  column-gap: var(--col-gap);
  align-items: start;
  padding: 8px 0 14px;
}

/* Date (left) */
.mt-date{
  grid-column: 1;
  justify-self: end;
  align-self: start;
  display: inline-block;
  font-weight: 700;
  font-size: 12px;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: .06em;
  line-height: 1;
  padding: 6px 10px;
  border:1px solid var(--card-line);
  border-radius:999px;
  background:var(--card);
  margin-top: 6px;
}

/* Dot centered on the spine (absolute, so it doesn't get re-flowed) */
.mt-item::before{
  content:"";
  position: absolute;
  left: calc(var(--spine-x) - 6px);  /* 12px dot => center on spine */
  top: 20px;                         /* small nudge to align with card top */
  width:12px; height:12px; border-radius:50%;
  background:var(--fg);
  box-shadow:0 0 0 4px var(--bg);    /* halo/cut-out effect */
  z-index: 1;
}

/* Card (right) */
.mt-card{
  grid-column: 3;
  background: var(--card);
  border:1px solid var(--card-line);
  border-radius:12px;
  padding: 12px 14px;
  box-shadow: var(--shadow);
}
.master-timeline h4{ margin:0; font-size:16px; font-weight:800; color:var(--fg); }
.master-timeline h4 span{ display:block; margin-top:4px; font-size:14px; color:var(--muted); font-weight:400; }

/* Variant spacing (you can keep both) */
.mt--sectioned .mt-item{ margin-bottom: 6px; }
.mt--sectioned .mt-section{ margin-top: 22px; }

/* Condensed option (swap container class to mt--condensed) */
.mt--condensed .mt-item{ padding:6px 0 10px; }
.mt--condensed .mt-card{ padding:10px 12px; border-radius:10px; }
.mt--condensed .mt-date{ padding:5px 9px; font-size:11.5px; letter-spacing:.05em; }

/* ===== Mobile (<640px): your current layout that "was alright" ===== */
@media (max-width: 639.98px){
  .master-timeline{
    /* on mobile we switch to a classic left-rail */
    --spine-x: 16px;
  }
  .master-timeline::before{
    left: var(--spine-x);
  }
  .mt-section{
    padding-left: calc(var(--spine-x) + 16px);
  }
  .mt-item{
    grid-template-columns: 32px 1fr; /* lane | content */
    column-gap: 12px;
  }
  /* dot follows the left rail */
  .mt-item::before{
    left: calc(var(--spine-x) - 6px);
    top: 16px;
  }
  /* date sits above the card, inside content col */
  .mt-date{
    grid-column: 2;
    justify-self: start;
    margin: -2px 0 6px 0;
    order: -1;
  }
  .mt-card{
    grid-column: 2;
  }
}


/* Projects */
.projects-section { padding-bottom: 56px; }
.project-tabs {
  width: 100%; display: flex; gap: 24px; justify-content: center; padding-bottom: 20px; flex-wrap: wrap;
}
.tab-item {
  padding: 6px 10px; border-bottom: 2px solid transparent; opacity: .6; font-weight: 700;
}
.tab-item:hover { opacity: .9; }
.tab-item.active { border-color: var(--fg); opacity: 1; }

.tab-content { display: none; }
.tab-content.active { display: block; }

.project-item {
  width: calc(33.333% - 16px);
  background: var(--card); border: 1px solid var(--card-line); border-radius: var(--radius-lg);
  box-shadow: var(--shadow); padding: 12px; display: none;
}
.project-item.active { display: block; }

.project-item-thumbnail {
  border-radius: var(--radius-sm); overflow: hidden; background: #fff;
}
.project-item-thumbnail img {
  width: 100%; height: auto; aspect-ratio: 16/10; object-fit: cover;
}
.project-item h3 { font-size: 20px; margin: 10px 4px 6px; }
.project-item .project-item-details,
.project-item .project-item-game { display: none; }

.project-item-images { display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; }
.project-item-images img { width: min(45%, 520px); border-radius: 8px; }

.project-description-title { font-weight: 700; }

/* Popup (project details) */
.project-popup { position: fixed; inset: 0; z-index: 50; visibility: hidden; opacity: 0; transition: opacity .2s ease, visibility .2s steps(1, end); }
.project-popup.open { visibility: visible; opacity: 1; }
.pp-inner {
  min-height: 100vh; display: grid; place-items: center; padding: 24px;
  background: color-mix(in srgb, var(--bg) 75%, transparent);
}
.pp-content {
  width: min(1040px, 96vw);
  background: var(--card); border: 1px solid var(--card-line); border-radius: var(--radius-lg);
  box-shadow: var(--shadow); padding: clamp(16px, 3vw, 32px);
  transform: scale(.98); opacity: 0; transition: transform .2s ease, opacity .2s ease;
}
.project-popup.open .pp-content { transform: scale(1); opacity: 1; }
.pp-header { position: relative; }
.pp-header .btn {
  position: absolute; right: 0; top: -44px; width: 40px; height: 40px; display: grid; place-items: center;
  border-radius: 50%; background: var(--card); border: 1px solid var(--line);
}
.pp-header h3 { margin: 8px 0 16px; font-size: 22px; }
.pp-body .description { font-size: 16px; }
.pp-body .general-info { margin-top: 16px; }
.pp-body .general-info li { list-style: none; margin-bottom: 8px; font-weight: 600; }
.pp-body .general-info li span { font-weight: 400; color: var(--muted); }

/* System design box inside details */
.system-design .description,
.system-design p,
.system-design ul,
.system-design h2,
.system-design h3 { color: var(--fg); }
.system-design .description { max-width: 900px; margin: 0 auto; }
.system-design h2 { font-size: 22px; margin-top: 24px; }
.system-design h3 { font-size: 18px; margin-top: 16px; padding-bottom: 6px; border-bottom: 2px solid var(--fg); }
.system-design ul { margin: 8px 0 8px 18px; }

/* Overlay (click guard when routing) */
.overlay { position: fixed; inset: 0; z-index: 30; background: transparent; visibility: hidden; }
.overlay.active { visibility: visible; }

/* Accessibility focus */
:focus-visible {
  outline: 2px solid var(--fg);
  outline-offset: 2px;
  border-radius: 8px;
}

/* Kill legacy fluff we no longer use */
.bg-circles,
.page-loader { display: none !important; }

/* Iframes */
iframe { margin: 0 auto; border: 0; background: #dcdcdc; display: block; }

/* ---------- Responsive ---------- */
@media (max-width: 991px) {
  .row { gap: 16px; }
  .project-item { width: calc(50% - 8px); }
  .home-text { text-align: center; }
  .home-img .img-box { width: 240px; }
}
@media (max-width: 767px) {
  .container { padding: 0 16px; }
  .project-item { width: 100%; }
  .pp-header .btn { top: -44px; right: 0; }
}
@media (max-width: 575px) {
  .home-text h1 { font-size: clamp(28px, 9vw, 36px); }
  .home-text h2 { font-size: 16px; }
  .about-summary { font-size: 16px; }
}
